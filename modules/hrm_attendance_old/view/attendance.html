<style>
.ui-corner-all, .ui-corner-bottom, .ui-corner-right, .ui-corner-br{z-index: 999999 !important;}
</style>
<style>
    .ui-autocomplete, ui-autocomplete-input {z-index:2147483647}
</style>
<!-- <script>
$("#select_type").on("change", function() {
    id = "related_" + $(this).val() + "_content";
    $("#" + id).show().siblings().hide()
})
</script> -->

<section class="page-content">
<div class="page-content-inner">



    <!-- Dashboard -->
    <div class="dashboard-container col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
      
        <div class="row">
            <div class="col-xl-12">
                <div class="panel panel-with-borders m-b-0">
                    <div class="panel-body">
                        <div class="nav-tabs-horizontal margin-bottom-5">
                          
					<div align="right">
						<div class="col-lg-3 col-md-3 col-sm-2 col-xs-12 text-x">Attendance
						<span id="attendancesuccess" style="color: green;font-size: 15px">{{attendance_success}}</span></div>
						<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 text_d1">
										<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 padd_none text_d">
											<b>Type :</b>
										</div>
										<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 padd_none">
											<select class="form-control border_none color_f" id="select_type" ng-model="type" ng-change="on_type_click()">
												<option value="">Select</option>
												<option value="year">Yearly</option>
												<option value="month">Monthly</option>
												<option value="quater">Quarterly</option>
											</select>
										</div>
									</div>
									
									<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 text_d1" id="related_year_content" ng-hide="hide_year">
										<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 padd_none text_d">
											<b>Year :</b>
										</div>
										<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 padd_none">
											<select class="form-control border_none color_f" ng-model="select_year">
												<option value="">Select</option>
												<option value="2017-18">2017-18</option>
												<option value="2018-19">2018-19</option>
												<option value="2019-20">2019-20</option>
											</select>
										</div>
									</div>
									
									<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 text_d1" id="related_month_content" ng-hide="hide_month">
										<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 padd_none text_d">
											<b>Month :</b>
										</div>
										<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 padd_none">
											<select class="form-control border_none color_f" ng-model="select_month">
												<option value="">Select</option>
												<option value="1">January</option>
												<option value="2">February</option>
												<option value="3">March</option>
												<option value="4">April</option>
												<option value="5">May</option>
												<option value="6">June</option>
												<option value="7">July</option>
												<option value="8">August</option>
												<option value="9">September</option>
												<option value="10">October</option>
												<option value="11">November</option>
												<option value="12">December</option>
												
											</select>
											<!-- <datepicker ng-model="date" min-mode="month" datepicker-mode="'month'"></datepicker> -->
										</div>
									</div>
									<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 text_d1" id="related_quater_content" ng-hide="hide_quater">
										<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 padd_none text_d">
											<b>Quarter :</b>
										</div>
										<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 padd_none">
											<select class="form-control border_none color_f" ng-model="select_quarter">
												<option value="">Select</option>
												<option value="1-3">January-March</option>
												<option value="4-6">April-June</option>
												<option value="7-9">July-September</option>
												<option value="10-12">October-December</option>
												
											</select>
										</div>
									</div>
						
						<div class="right hidden-md-down margin-left-40 col-lg-2 col-md-2 col-sm-3 col-xs-12" align="right">
							<div class="search-block">
								<div class="form-input-icon form-input-icon-right">
									<i class="icmn-search"></i>
											<input class="form-control form-control-sm form-control-rounded" placeholder="Search..." type="text" ng-model="filter_attendance_list">
												<button class="search-block-submit " type="submit"></button>
								</div>
							</div>
						</div>	
					<button class="btn btn-rounded btn-primary-outline margin-inline" id="tblExport" type="button"><i class="fa fa-file-excel-o" aria-hidden="true"></i>
 Export To Excel</button>

 <button class="btn btn-rounded btn-primary-outline margin-inline" type="button" data-toggle="modal" data-target="#upload_excel"><i class="fa fa-file-excel-o" aria-hidden="true"></i>
 Import From Excel</button>
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
								<br/>
						<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">&nbsp;</div>
						<div class=" col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                        <div class="form-group">
                            <div class='input-group date' >
                                <input type='text' class="form-control border_none" id='exp_del_date3' placeholder="From" ng-model="from_date"/>
                                <span class="input-group-addon">
                                <i class="icmn-calendar"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class=" col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                        <div class="form-group">
                            <div class='input-group date'>
                                <input type='text' class="form-control border_none" id='exp_del_date4' placeholder="To" ng-model="to_date"/>
                                <span class="input-group-addon">
                                <i class="icmn-calendar"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class=" col-lg-1 col-md-1 col-sm-1 col-xs-12">
                     	<button ng-click="statusdateleave()" class="btn btn-success"><i class="fa fa-search" ng-click="attendance_listing()"></i></button>
                      </div>
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 padd_none" align="right">
					<button class="btn btn-rounded btn-primary-outline margin-inline" data-toggle="modal" data-target="#example2" type="button" ng-click="click_attendance()">
						Apply For On-Duty
					</button>
					</div>
						</div>
				
                        </div>
                        </div>
						<div class="clearfix"></div><br/>
                    
					<div class="sb-container container-example1 hei1">
						<div class="table_dis" id="fixedheader">
                        <table class="table table-hover table-bordered" id="table2excel">
                            <thead>
                               <tr class="colorhead">
                               		<th>Employee ID</th>
                                	<th>Employee Name</th>
                               		<th>Date</th>
                                	<th>In Time</th>
                                	<th>Out Time</th>
                               		<th>Worked Hours</th>
                               		<th>Status</th>
									<!-- <th>Action</th> -->
                                </tr>
                            </thead>
                            <!--<tfoot>
                                <tr>
                                  <th>Supplier Code</th>
                                <th>Supplier Name</th>
                                
                                <th>City</th>
                                <th>Country</th>
                                <th>Action</th>
                                </tr>
                            </tfoot>-->
                            <tbody>
                                 <tr ng-repeat='data in attendance_list | filter:filter_attendance_list'>
                                <td>{{data.employee_code}}</td>
                                <td>{{data.employee_name}}</td>
                                <td>	
									{{data.attendance_date}}
								</td>
                                <td>{{data.in_time}}</td>
                                <td>{{data.out_time}}</td>
                                <td>{{data.total_duration}}</td>
                                <td>{{data.attendance_status}}</td>
                                
                                 <!-- <td>
										<a ng-bootbox-confirm="Are you sure to delete this Attendance?"
										ng-bootbox-confirm-action="deleteAttendanceTerm(data.id)"
										ng-bootbox-confirm-action-cancel="confirmCallbackCancel(attr1, attr2)"
										href=""> <i class="fa fa-trash-o font_six" aria-hidden="true" title="Delete" aria-hidden="true"></i></a>
								</td> -->
                            </tr>
                           
                         
							
                            </tbody>
                        </table>
                    </div>
                    </div>
               <center>
			  <!-- <button class="btn btn-rounded btn-primary-outline margin-inline  " type="button">
<i class="fa fa-print" aria-hidden="true"></i>

Print
</button>-->
			   </center>
                     
                    </div>
                </div>
            </div>
        </div>

		 
    </div>
<br/>


    <!-- End Dashboard -->

</div>

</section>	


<!-- modal start -->

  
  <div class="modal fade modal-size-large" close-modal-two id="example2" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bgcolor">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel">Apply</h4>
                            </div>
                            <div class="modal-body">
                                <div class="nav-tabs-horizontal">
                           
                            <div class="tab-content">
                                <div class="tab-pane active" id="home1" role="tabpanel">
                                   <div	class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" >
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<!-- <div class="label_none">Warehouse</div>add for edit button click class 'label_display' -->
										<select class="form-control border_none select" ng-selected="selected" ng-model="add_attandance.warehouse_id">
													  <option value="">Select Warehouse</option>
														<option ng-repeat=" warehouse in warehouse_list" value="{{warehouse.id}}">{{warehouse.warehouse_name}} </option>
										</div>
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">Name</div><!-- add for edit button click class 'label_display' -->
										<input class="form-control border_none" type="text" placeholder="Name" ng-model="auto_emp_name" id="auto_name">
										</div>
										

										</div>	
										
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" >
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">Department</div><!-- add for edit button click class 'label_display' -->
										<input class="form-control border_none" type="text" placeholder="Department" ng-model="emp_deparment" disabled>
										</div>
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">Designation</div><!-- add for edit button click class 'label_display' -->
										<input class="form-control border_none" type="text" placeholder="Designation" ng-model="emp_designation" disabled>
										</div>
										
										</div>	


									<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" >
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">In Date</div><!-- add for edit button click class 'label_display' -->
										<div class="">
															<div class='input-group date'>
																<input type='text' class="form-control border_none" placeholder="In Date" id='exp_del_date1' ng-model="add_attandance.in_date" />
																<span class="input-group-addon">
																	<i class="icmn-calendar"></i>
																</span>
															</div>
														</div>
										</div>
											
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">In Time</div><!-- add for edit button click class 'label_display' -->
										<input class="form-control border_none" type="time" placeholder="In Time" ng-model="add_attandance.in_time">
										</div>
										

										</div>
										
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" >
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">Out Date</div><!-- add for edit button click class 'label_display' -->
										<div class="">
															<div class='input-group date'>
																<input type='text' class="form-control border_none" placeholder="Out Date" id='exp_del_date2' ng-model="add_attandance.out_date" />
																<span class="input-group-addon">
																	<i class="icmn-calendar"></i>
																</span>
															</div>
														</div>
										</div>
											
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<div class="label_none">Out Time</div><!-- add for edit button click class 'label_display' -->
										<input class="form-control border_none" type="time" placeholder="Out Time" ng-model="add_attandance.out_time"> 
										</div>
										

										</div>
										
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<div class="label_none">Reason</div><!-- add for edit button click class 'label_display' -->
										<textarea class="form-control" rows="3" placeholder="Reason" ng-model="add_attandance.reason"></textarea>
										</div>
										
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" >
										<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 hgdg">				
															<b>Approver :</b>
															</div>
															
															<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 padd_none">
															<input class="form-control border_none" placeholder="ab@tecture.in" type="text" ng-model="add_attandance.approver"> 
															</div>
										<br/>
										

										</div>
									
										<div class="clearfix"></div>
									</div>
									<br/>
									
									<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<center><br/>
											<button class="btn btn-success-outline margin-inline" type="button" ng-click="addattendance()">
												<span class="top_p"><i class="icmn-share2"></i></span> Submit 
											</button>
											
											</center>
									</div>	
								
                                </div>
                                </div>
                                
                               
                                
                            </div>
                        </div>
						<div class="clearfix"></div>
                            </div>
						<div class="clearfix"></div>
                         <!--   <div class="modal-footer bgcolor">
                                <button type="button" class="btn" data-dismiss="modal">Close</button>
                                
                            </div>-->
                        </div>
                    </div>

<!-- modal start -->
				
<script type="text/javascript">
$('#exp_del_date1').datepicker({
  changeMonth: true,
  changeYear: true,
  yearRange: '2000:2040' ,
    defaultDate: '01-10-2017',
});
</script>
<script type="text/javascript">
$('#exp_del_date3').datepicker({
  changeMonth: true,
  changeYear: true,
  yearRange: '2000:2040' ,
});
</script>
<script type="text/javascript">
$('#exp_del_date4').datepicker({
  changeMonth: true,
  changeYear: true,
  yearRange: '2000:2040' ,
});
</script>
<script type="text/javascript">
$('#exp_del_date2').datepicker({
  changeMonth: true,
  changeYear: true,
  yearRange: '2000:2040' ,
    defaultDate: '01-10-2017',
});
</script>
<script type="text/javascript">
 $.datepicker.setDefaults({
          dateFormat: 'yy-mm-dd',
          /*dateFormat: 'dd-mm-yy',*/
 });
</script>
<!-- header fixed -->
		<script>
			$(document).ready(function() {
				$("#fixedheader").tableHeadFixer(); 
			});
		</script>
		
		<!-- header fixed End-->

		<div class="modal fade modal-size-large" close-my-modal id="upload_excel" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true" data-keyboard="false" data-backdrop="static">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header bgcolor">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="myModalLabel">Upload Excel Sheet</h4>
			</div>
			<div class="modal-body">
				<div class="nav-tabs-horizontal">
					<div class="tab-content padding-vertical-20">
						<div class="tab-pane active" id="home1" role="tabpanel">
							<div	class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							  <form name="attendance">
									<div class="top_t col-lg-6 col-md-6 col-sm-6 col-xs-12">
									<div class="top_t col-lg-6 col-md-6 col-sm-6 col-xs-12">
										<div class="top_t col-lg-12 col-md-12 col-sm-12 col-xs-12 padd_none">
											<!--<div  ng-class="{label_display : active_lable}" class="label_none">Upload File</div>-->
										<!-- add for edit button click class 'label_display' -->
										<div class="top_t col-lg-6 col-md-6 col-sm-6 col-xs-12 padd_none" upload-my-file>
													<input id="l16" file-model="myFile" type="file" accept=".csv">
														<br>
											<small>Upload File</small>
											</div>
									</div>
									</div>

									<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<center><br/>
											<button class="btn btn-success-outline margin-inline" type="button" ng-click="upload_excel_file()">
												<span class="top_p"><i class="icmn-share2"></i></span> Submit 
											</button>
											
											</center>
									</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
</div>

<script type="text/javascript">
$("#tblExport").click(function(){

 $("#table2excel").table2excel({
    // exclude CSS class
    //exclude: ".noExl",
    name: "Worksheet Name",
    //fileext: ".xlsx",
    filename: "Attendance Sheet" //do not include extension
  }); 
});
</script>

<script>
    $(document).ready(function() {
        $("#table2excel").tableHeadFixer();
    });
</script>